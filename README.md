##Развертываение проетка

Команда для локального запуска 
```
docker-compose up 
```

Перед запуском  необходимо собрать контейнеры

```
docker-compose build
```

Миграции выполняются автоматически, но если они не выполнились можно запустить их вручную

Для выполнения ниже перчисленных коман необходимо сначала запустить проект
```
docker-compose exec server poetry run python3 manage.py migrate
```

В случае появления дубликатов миграций в проекте необходимо произвести их мердж и затем повторить запуск базы миграции проекта

```bash
docker-compose exec server poetry run python3 manage.py makemigrations --merge
docker-compose exec server poetry run python3 manage.py migrate
```

для работы рассылки необходимо указать переменные окружения в docker-compose.yml
      
      EMAIL_HOST: 
      EMAIL_HOST_USER: 
      DEFAULT_FROM_EMAIL: 
      EMAIL_HOST_PASSWORD: 
      EMAIL_PORT: 
      EMAIL_USE_TLS: 


## Алгоритм расчёта сходства

Сходство считается как Евклидово расстояние в n мерном пространстве по формуле

    similarity = (20 * math.sqrt(n) - radius) / (20 * math.sqrt(n))
    
    где 
    n - размерность простарнства
    radius - растояние можду точками в пространстве, вычисяется по класической формуле 
    как r = sqrt(sum((x1-x2)^2))
    
Выбранное это решение так как это одно из наиболее простых, при этом позволяет учитывать не ограниченное число признаков.

Алгоритм работает следующим образом:
1. Скачало высчитываем настояние между интересами пользователей в n пространстве.
2. Рассчитываем относительное расстояние как расстояние между пользователями отнесённое к максимально возможному в пространстве.

